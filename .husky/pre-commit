#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ”§ Pre-commit hook: Environment-aware validation (Tier 1)"

# Detect environment and run appropriate tier
echo "ğŸ“Š Development environment detected - running Tier 1 checks"
echo "âš¡ Fast & essential validation for immediate feedback"

# Use lint-staged for changed files only (performance optimization)
echo "ğŸ” Linting changed files..."
npx lint-staged

# Quick type check (development mode)
echo "ğŸ” Quick type check..."
npm run type-check:fast

# Fast tests for rapid feedback
echo "ğŸ§ª Running fast tests..."
npm run test:fast

echo "âœ… Tier 1 pre-commit validation completed successfully"
